# üöÄ –î–ï–ü–õ–û–ô –ë–û–¢–ê –ù–ê CLOUDFLARE WORKER

## ‚úÖ –í–°–Å –í –û–î–ù–û–ú –ú–ï–°–¢–ï!

–¢–µ–ø–µ—Ä—å –∏ API, –∏ Telegram Bot –±—É–¥—É—Ç –Ω–∞ –æ–¥–Ω–æ–º Cloudflare Worker!

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω Replit
- ‚úÖ –í—Å—ë –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ
- ‚úÖ –ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç 24/7

---

## üìù –®–ê–ì 1: –û–ë–ù–û–í–ò–¢–ï WORKER

```bash
cd worker
```

### –ó–∞–º–µ–Ω–∏—Ç–µ index.js –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é:

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `index-with-bot.js` –≤ `index.js`:

```bash
# Windows PowerShell:
Copy-Item index-with-bot.js index.js -Force
```

---

## üìù –®–ê–ì 2: –ó–ê–î–ï–ü–õ–û–ô–¢–ï

```bash
npm run deploy
```

–ü–æ–¥–æ–∂–¥–∏—Ç–µ ~10 —Å–µ–∫—É–Ω–¥. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úÖ Deployed telegram-miniapp-api
   https://telegram-miniapp-api.worknotdead.workers.dev
```

---

## üìù –®–ê–ì 3: –ù–ê–°–¢–†–û–ô–¢–ï WEBHOOK

Telegram –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç—É.

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook:

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_BOT_TOKEN):

```
https://api.telegram.org/botYOUR_BOT_TOKEN/setWebhook?url=https://telegram-miniapp-api.worknotdead.workers.dev/botYOUR_BOT_TOKEN
```

**–í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞:**
```
https://api.telegram.org/bot8560864789:AAHhmeRPVGdJpmvd2sQhPhOdy5XZLc0PJpY/setWebhook?url=https://telegram-miniapp-api.worknotdead.workers.dev/bot8560864789:AAHhmeRPVGdJpmvd2sQhPhOdy5XZLc0PJpY
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "ok": true,
  "result": true,
  "description": "Webhook was set"
}
```

‚úÖ **–ì–û–¢–û–í–û!**

---

## üß™ –®–ê–ì 4: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –ø–æ —Ç–æ–∫–µ–Ω—É –≤ @BotFather
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –£–≤–∏–¥–∏—Ç–µ:
   ```
   üëã –ü—Ä–∏–≤–µ—Ç, [–í–∞—à–µ –∏–º—è]!
   
   –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à Mini App!
   
   üîó –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...
   ```
4. –î–≤–µ –∫–Ω–æ–ø–∫–∏:
   - üöÄ **–û—Ç–∫—Ä—ã—Ç—å Mini App** - –æ—Ç–∫—Ä–æ–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - ‚öôÔ∏è **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –µ—Å–ª–∏ –≤—ã –∞–¥–º–∏–Ω!

---

## üë®‚Äçüíº –î–õ–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–í

### –ï—Å–ª–∏ –≤–∞—à username –≤ –ª–∏—Å—Ç–µ "admins":

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
2. –£–≤–∏–¥–∏—Ç–µ –º–µ–Ω—é:
   - üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–ª–∏–∫–∏
   - üì¢ **–†–∞—Å—Å—ã–ª–∫–∞** - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É—à –≤—Å–µ–º
   - üë• **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - —Å–ø–∏—Å–æ–∫
   - ¬´ **–ù–∞–∑–∞–¥** - –≤–µ—Ä–Ω—É—Ç—å—Å—è

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞—Å—Å—ã–ª–∫–∏:

–í—ã–±–µ—Ä–∏—Ç–µ "üì¢ –†–∞—Å—Å—ã–ª–∫–∞" –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```
/broadcast –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞—Å—Å—ã–ª–∫–∏
–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
–ú–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫.
https://—Å—Å—ã–ª–∫–∞-–¥–ª—è-–∫–Ω–æ–ø–∫–∏.com
```

**–ü—Ä–∏–º–µ—Ä:**
```
/broadcast –ù–æ–≤–∞—è –∞–∫—Ü–∏—è!
–°–∫–∏–¥–∫–∞ 50% –Ω–∞ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏!
–£—Å–ø–µ–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è!
https://shop.odintattoo.ru/
```

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —ç—Ç–æ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º!

---

## üìä –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨

### –ë—ã–ª–æ (3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞):
- ‚ùå Cloudflare Worker (API)
- ‚ùå Replit (Bot) - —Å–ª–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
- ‚ùå GitHub Pages (Frontend —Å –∞–¥–º–∏–Ω–∫–æ–π)

### –°—Ç–∞–ª–æ (2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞):
- ‚úÖ Cloudflare Worker (API + Bot + –ê–¥–º–∏–Ω–∫–∞ –≤ –±–æ—Ç–µ!)
- ‚úÖ GitHub Pages (Frontend - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò

### –í Google Sheets –ª–∏—Å—Ç "admins":

–î–æ–±–∞–≤—å—Ç–µ username –∞–¥–º–∏–Ω–æ–≤ (–ë–ï–ó @):

| username |
|----------|
| ebashordie |
| admin2 |

–≠—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" –≤ –±–æ—Ç–µ.

---

## üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï –ü–û–°–õ–ï –ò–ó–ú–ï–ù–ï–ù–ò–ô

–ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç–µ –∫–æ–¥:

```bash
cd worker
npm run deploy
```

Webhook —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –ø–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!

---

## ‚ùì TROUBLESHOOTING

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook:
```
https://api.telegram.org/bot8560864789:AAHhmeRPVGdJpmvd2sQhPhOdy5XZLc0PJpY/getWebhookInfo
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```json
{
  "url": "https://telegram-miniapp-api.worknotdead.workers.dev/bot8560864789:AAHhmeRPVGdJpmvd2sQhPhOdy5XZLc0PJpY",
  "has_custom_certificate": false,
  "pending_update_count": 0
}
```

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–∞—à username (–ë–ï–ó @) –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ª–∏—Å—Ç "admins" –≤ Google Sheets.

### –†–∞—Å—Å—ã–ª–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ—á–Ω–æ:
```
/broadcast –ó–∞–≥–æ–ª–æ–≤–æ–∫
–¢–µ–∫—Å—Ç
–°—Å—ã–ª–∫–∞
```

–ú–∏–Ω–∏–º—É–º 3 —Å—Ç—Ä–æ–∫–∏!

---

## üéâ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:
- ‚úÖ API –¥–ª—è Mini App
- ‚úÖ Telegram Bot —Å webhook
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ
- ‚úÖ –†–∞—Å—Å—ã–ª–∫–∏ –∏–∑ –±–æ—Ç–∞
- ‚úÖ –í—Å—ë –Ω–∞ Cloudflare –±–µ—Å–ø–ª–∞—Ç–Ω–æ!

**–ü—Ä–æ—â–µ –Ω–µ –±—ã–≤–∞–µ—Ç!** üöÄ
